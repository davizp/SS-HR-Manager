// sanservices_absence - Last Update: Friday, December 19th, 2014, 9:41:57 AM CST
function fx_error(a){for(v in a)""==a[v]&&("para"!=v?$("#"+v).parent().addClass("has-error has-feedback").append('<span class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>'):$(".Tokenize").parent().addClass("has-error has-feedback").append('<span class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true" style="margin-left:-19px;left: 96%;"></span>'))}require(["/assets/js/app.js"],function(){mifuncion(),$(function(){$("#editor").wysiwyg(),$("#para").tokenize(),"undefined"!=$.fn.tokenize&&($(".loading-container").fadeOut(function(){$(this).remove()}),$(".container-fluid").css({display:"block"})),$('input[class="span2"]').click(function(){return $(this).focus(),!1}),$("#enviar").click(function(){var a={para:$("#para").val()||"",asunto:$("#asunto").val(),titulo:$("#titulo").val(),editor:$("#editor").html()};fx_error(a),"undefined"==typeof $(".has-error").get(0)&&($("#correo_modal").modal("show"),$.ajax({url:"/correo",type:"POST",data:a,success:function(a){$("#correo_modal").modal("hide");var b="Mensaje Enviado"==a.r?"success":"danger",c='<div class="alert alert-'+b+' alert-dismissible" role="alert"> 										<button type="button" class="close" data-dismiss="alert"> 											<span aria-hidden="true">&times;</span><span class="sr-only">Close</span> 										</button> 										<span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span> 										</strong>'+a.r+"</strong>";$(".container-fluid").prepend(c),$btn.button("reset")}}))}),$(document).on("keypress",function(){""!=$("#editor").html()&&$("#editor").parent().hasClass("has-error")&&($("#editor").parent().removeClass("has-error has-feedback"),$('div[data-target = "#editor"] > .glyphicon.glyphicon-remove.form-control-feedback').remove()),""!=$("#para").val()&&($(".Tokenize").parent().removeClass("has-error has-feedback").closest("span").remove(),$("div.col-lg-12 > .glyphicon.glyphicon-remove.form-control-feedback").remove())}),$("#para").change(function(){alert("Handler for .change() called.")})})});var mifuncion=function(){console.log("Correo.js")};